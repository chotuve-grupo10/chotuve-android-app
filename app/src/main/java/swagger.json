{"swagger":"2.0","info":{"description":"powered by Flasgger","version":"0.0.1","title":"A swagger API","termsOfService":"/tos"},"paths":{"/api/about/":{"get":{"summary":"Este es un método para recibir información del Server","parameters":[],"responses":{"200":{"description":"About information"}}}},"/api/delete_video/{video_id}":{"delete":{"summary":"Este servicio permitirá dar de baja un video en el sistema","parameters":[{"name":"video_id","in":"path","description":"video id","required":true,"type":"string"}],"responses":{"200":{"description":"video deleted"}}}},"/api/home/":{"get":{"summary":"Este es un método para listar los videos en pantalla principal","parameters":[],"responses":{"200":{"description":"URL list to show in home screen"}}}},"/api/list_videos/":{"get":{"summary":"Este servicio permitirá listar videos en el sistema","parameters":[],"responses":{"200":{"description":"videos list returned","schema":{"$ref":"#/definitions/VideoList"}}}}},"/api/list_videos/{user_id}":{"get":{"summary":"Este servicio permitirá listar videos en el sistema","parameters":[{"name":"user_id","in":"path","description":"user id","required":true,"type":"string"}],"responses":{"200":{"description":"videos list returned"}}}},"/api/login/":{"post":{"summary":"Este servicio permitirá a los usuarios poder ingresar al sistema","parameters":[{"in":"body","name":"user","description":"User to login.","required":false,"schema":{"$ref":"#/definitions/UserLogin"}}],"responses":{"200":{"description":"Returns tokens","schema":{"$ref":"#/definitions/LoginResponse"}}}}},"/api/login_with_firebase/":{"post":{"summary":"Recibe una solicitud de login utilizando Firebase.","description":"Si el login es exitoso pero el usuario no está registrado en la plataforma, se<br/>lo registra automáticamente<br/>","parameters":[{"name":"authorization","in":"header","description":"id token","required":true,"type":"string"}],"responses":{"200":{"description":"Returns tokens","schema":{"$ref":"#/definitions/LoginResponse"}}},"security":[{"bearerAuth":[]}]}},"/api/ping/":{"get":{"summary":"Este es un método para recibir información del estado de los servers","parameters":[],"responses":{"200":{"description":"Status of each server","schema":{"$ref":"#/definitions/PingResponse"}}}}},"/api/register/":{"post":{"summary":"Este servicio permitirá a los usuarios darse de alta en el sistema","parameters":[{"in":"body","name":"user","description":"The user to create.","required":false,"schema":{"$ref":"#/definitions/UserRegister"}}],"responses":{"200":{"description":"Returns completion message","schema":{"$ref":"#/definitions/RegisterResponse"}}}}},"/api/register_with_firebase/":{"post":{"summary":"Recibe una solicitud de registro utilizando Firebase","parameters":[{"name":"authorization","in":"header","description":"id token","required":true,"type":"string"}],"responses":{"200":{"description":"Register solicitation using Firebase"}},"security":[{"bearerAuth":[]}]}},"/api/upload_video/":{"post":{"summary":"Este servicio permitirá dar de alta un video en el sistema","parameters":[{"in":"body","name":"video","description":"The video to upload.","required":false,"schema":{"$ref":"#/definitions/VideoToUpload"}}],"responses":{"201":{"description":"video uploaded","schema":{"$ref":"#/definitions/UploadVideoResponse"}},"500":{"description":"There is a problem with the app or media server.","schema":{"$ref":"#/definitions/UploadVideoResponse"}}}}},"/api/users":{"get":{"summary":"Este servicio permitirá filtrar usuarios","parameters":[{"name":"filter","in":"query","description":"filtering data","required":false,"type":"string"},{"name":"User_email","in":"header","description":"users email making request","required":true,"type":"string"}],"responses":{"200":{"description":"obtiene usuarios filtrados","schema":{"$ref":"#/definitions/UsersInformationList"}}}}},"/api/users/{user_email}/friends":{"get":{"summary":"Este servicio permite obtener información del usuario (y sus amigos)","parameters":[{"name":"user_email","in":"path","description":"email del usuario","required":true,"type":"string"}],"responses":{"200":{"description":"se envia la información","schema":{"$ref":"#/definitions/UsersInformationList"}}}}},"/api/users/{user_email}/friends/{friends_email}":{"delete":{"summary":"Este servicio permite aceptar una solicitud de contacto de usuario y crear una relación de amistad","parameters":[{"name":"user_email","in":"path","description":"my email","required":true,"type":"string"},{"name":"friends_email","in":"path","description":"potential new friends email","required":true,"type":"string"}],"responses":{"200":{"description":"la amistad fue eliminada","schema":{"$ref":"#/definitions/BasicServerResponse"}},"403":{"description":"la amistad no existe","schema":{"$ref":"#/definitions/BasicServerResponse"}},"404":{"description":"alguno de los usuarios no existe","schema":{"$ref":"#/definitions/BasicServerResponse"}},"500":{"description":"solicitud rechazada por error interno del server","schema":{"$ref":"#/definitions/BasicServerResponse"}}}}},"/api/users/{user_email}/friends/{new_friends_email}":{"post":{"summary":"Este servicio permitirá dar de alta una solicitud de contacto de usuario","parameters":[{"name":"user_email","in":"path","description":"my email","required":true,"type":"string"},{"name":"new_friends_email","in":"path","description":"potential new friends email","required":true,"type":"string"}],"responses":{"201":{"description":"solicitud completada","schema":{"$ref":"#/definitions/RequestFriendshipResponse"}},"403":{"description":"estos usuarios ya son amigos","schema":{"$ref":"#/definitions/RequestFriendshipResponse"}},"404":{"description":"alguno de los usuarios no existe","schema":{"$ref":"#/definitions/RequestFriendshipResponse"}},"409":{"description":"esta solicitud ya existe","schema":{"$ref":"#/definitions/RequestFriendshipResponse"}},"500":{"description":"solicitud rechazada por error interno del server","schema":{"$ref":"#/definitions/RequestFriendshipResponse"}}}},"patch":{"summary":"Este servicio permite aceptar una solicitud de contacto de usuario y crear una relación de amistad","parameters":[{"name":"user_email","in":"path","description":"my email","required":true,"type":"string"},{"name":"new_friends_email","in":"path","description":"potential new friends email","required":true,"type":"string"},{"in":"body","name":"response_body","description":"Document containing true for accept, false for reject.","required":false,"schema":{"$ref":"#/definitions/AcceptFriend"}}],"responses":{"200":{"description":"la respuesta fue procesada","schema":{"$ref":"#/definitions/BasicServerResponse"}},"403":{"description":"la solicitud de amistad no existe","schema":{"$ref":"#/definitions/BasicServerResponse"}},"404":{"description":"alguno de los usuarios no existe","schema":{"$ref":"#/definitions/BasicServerResponse"}},"500":{"description":"solicitud rechazada por error interno del server","schema":{"$ref":"#/definitions/BasicServerResponse"}}}}},"/api/users/{user_email}/requests":{"get":{"summary":"Este servicio permite obtener las solicitudes de amistad de un usuario","parameters":[{"name":"user_email","in":"path","description":"email del usuario","required":true,"type":"string"}],"responses":{"200":{"description":"se envian los usuarios que esperan una respuesta a la solicitud de amistad","schema":{"$ref":"#/definitions/UsersInformationList"}}}}},"/api/validate_auth_token/":{"get":{"summary":"Este es un método para recibir un token del auth server y validarlo","parameters":[{"name":"authorization","in":"header","description":"bearer token","required":true,"type":"string"}],"responses":{"200":{"description":"Token validity."}},"security":[{"bearerAuth":[]}]}},"/api/validate_token/":{"get":{"summary":"Este es un método para recibir un token y validarlo","parameters":[{"name":"authorization","in":"header","description":"bearer token","required":true,"type":"string"}],"responses":{"200":{"description":"Token validity."}},"security":[{"bearerAuth":[]}]}},"/api/videos/{video_id}/comment":{"put":{"summary":"Este servicio permitirá dar de alta un comentario en un video","parameters":[{"name":"video_id","in":"path","description":"id del video","required":true,"type":"string"},{"in":"body","name":"user","description":"User making comment.","required":false,"schema":{"$ref":"#/definitions/CommentVideo"}}],"responses":{"200":{"description":"comentario agregado al video","schema":{"$ref":"#/definitions/CommentVideoResponse"}}}}}},"definitions":{"AcceptFriend":{"type":"object","properties":{"response":{"type":"boolean"}}},"BasicServerResponse":{"type":"object","properties":{"server_message":{"type":"object","properties":{"message":{"type":"string"}}},"status":{"type":"integer"}}},"CommentVideo":{"type":"object","properties":{"comment":{"type":"string"},"email":{"type":"string"}}},"CommentVideoResponse":{"type":"object","properties":{"message_result":{"type":"object","properties":{}},"status":{"type":"integer"}}},"LoginResponse":{"type":"object","properties":{"App token":{"type":"string","description":"App server token"},"Auth token":{"type":"string","description":"Auth server token"}}},"PingResponse":{"type":"object","properties":{"App Server":{"type":"string"},"Auth Server":{"type":"string"},"Media Server":{"type":"string"}}},"RegisterResponse":{"type":"object","properties":{"message_result":{"type":"object","properties":{}},"status":{"type":"integer"}}},"RequestFriendshipResponse":{"type":"object","properties":{"server_message":{"type":"object","properties":{"message":{"type":"string"}}},"status":{"type":"integer"}}},"UploadVideoResponse":{"type":"object","properties":{"result":{"type":"string"}}},"UserLogin":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}}},"UserRegister":{"type":"object","properties":{"email":{"type":"string"},"full name":{"type":"string"},"password":{"type":"string"},"phone number":{"type":"string"},"profile picture":{"type":"string"}}},"UsersInformationList":{"type":"array","items":{"type":"object","example":{"email":"diegote@gmail.com","fullName":"Diegote"},"properties":{"email":{"type":"string"},"fullName":{"type":"string"}}}},"VideoList":{"type":"array","items":{"type":"object","properties":{"_id":{"type":"string"},"title":{"type":"string"},"upload_date":{"type":"string"},"url":{"type":"string"},"user":{"type":"string"}}}},"VideoToUpload":{"type":"object","properties":{"description":{"type":"string"},"fileName":{"type":"string"},"isPrivate":{"type":"boolean"},"latitude":{"type":"string"},"longitude":{"type":"string"},"title":{"type":"string"},"url":{"type":"string"},"user":{"type":"string"}}}}}