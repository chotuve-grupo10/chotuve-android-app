{"swagger":"2.0","info":{"description":"powered by Flasgger","version":"0.0.1","title":"A swagger API","termsOfService":"/tos"},"paths":{"/api/about/":{"get":{"summary":"Este es un método para recibir información del Server","parameters":[],"responses":{"200":{"description":"About information"}}}},"/api/home/":{"get":{"summary":"Este es un método para listar los videos en pantalla principal","parameters":[],"responses":{"200":{"description":"URL list to show in home screen"}}}},"/api/login/":{"post":{"summary":"Este servicio permitirá a los usuarios poder ingresar al sistema","parameters":[{"in":"body","name":"user","description":"User to login.","required":false,"schema":{"$ref":"#/definitions/UserLogin"}}],"responses":{"200":{"description":"Returns tokens","schema":{"$ref":"#/definitions/LoginResponse"}}}}},"/api/login_with_firebase/":{"post":{"summary":"Recibe una solicitud de login utilizando Firebase.","description":"Si el login es exitoso pero el usuario no está registrado en la plataforma, se<br/>lo registra automáticamente<br/>","parameters":[{"name":"authorization","in":"header","description":"id token","required":true,"type":"string"}],"responses":{"200":{"description":"Returns tokens","schema":{"$ref":"#/definitions/LoginResponse"}}},"security":[{"bearerAuth":[]}]}},"/api/ping/":{"get":{"summary":"Este es un método para recibir información del estado de los servers","parameters":[],"responses":{"200":{"description":"Status of each server","schema":{"$ref":"#/definitions/PingResponse"}}}}},"/api/register/":{"post":{"summary":"Este servicio permitirá a los usuarios darse de alta en el sistema","parameters":[{"in":"body","name":"user","description":"The user to create.","required":false,"schema":{"$ref":"#/definitions/UserRegister"}}],"responses":{"200":{"description":"Returns completion message","schema":{"$ref":"#/definitions/RegisterResponse"}}}}},"/api/register_with_firebase/":{"post":{"summary":"Recibe una solicitud de registro utilizando Firebase","parameters":[{"name":"authorization","in":"header","description":"id token","required":true,"type":"string"}],"responses":{"200":{"description":"Register solicitation using Firebase"}},"security":[{"bearerAuth":[]}]}},"/api/time":{"get":{"summary":"Este servicio permite obtener la hora del Server","parameters":[],"responses":{"200":{"description":"devuelve la hora del server","schema":{"$ref":"#/definitions/ServerTime"}},"500":{"description":"solicitud rechazada por error interno del server","schema":{"$ref":"#/definitions/BasicServerResponse"}}}}},"/api/users":{"get":{"summary":"Este servicio permitirá filtrar usuarios","parameters":[{"name":"filter","in":"query","description":"filtering data","required":false,"type":"string"},{"name":"User_email","in":"header","description":"users email making request","required":true,"type":"string"}],"responses":{"200":{"description":"obtiene usuarios filtrados","schema":{"$ref":"#/definitions/UsersInformationList"}}}}},"/api/users/{user_email}":{"get":{"tags":[],"summary":"Este servicio permitirá consultar el perfil de un usuario","parameters":[{"name":"Authorization","in":"header","description":"token","required":true,"type":"string"},{"name":"user_email","in":"path","description":"User's email","required":true}],"responses":{"200":{"description":"user profile.","schema":{"$ref":"#/definitions/ListedUser"}},"403":{"description":"invalid token.","schema":{"$ref":"#/definitions/ErrorResponse"}},"404":{"description":"user doesnt exist.","schema":{"$ref":"#/definitions/ErrorResponse"}},"412":{"description":"user requesting profile information from another user.","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"there is an internal problem with the auth server.","schema":{"$ref":"#/definitions/ErrorResponse"}}}},"delete":{"summary":"Este servicio permite eliminar a un usuario","parameters":[{"name":"user_email","in":"path","description":"my email","required":true,"type":"string"}],"responses":{"200":{"description":"el usuario fue eliminado","schema":{"$ref":"#/definitions/SuccessfulDeleteUserResponse"}},"404":{"description":"el usuario no existe","schema":{"$ref":"#/definitions/ErrorDeleteUserResponse"}},"500":{"description":"no se puede eliminar usuario por error interno del server","schema":{"$ref":"#/definitions/ErrorDeleteUserResponse"}}}}},"/api/users/{user_email}/friends":{"get":{"summary":"Este servicio permite obtener información del usuario (y sus amigos)","parameters":[{"name":"user_email","in":"path","description":"email del usuario","required":true,"type":"string"}],"responses":{"200":{"description":"se envia la información","schema":{"$ref":"#/definitions/UsersInformationList"}}}}},"/api/users/{user_email}/friends/{friends_email}":{"delete":{"summary":"Este servicio permite aceptar una solicitud de contacto de usuario y crear una relación de amistad","parameters":[{"name":"user_email","in":"path","description":"my email","required":true,"type":"string"},{"name":"friends_email","in":"path","description":"potential new friends email","required":true,"type":"string"}],"responses":{"200":{"description":"la amistad fue eliminada","schema":{"$ref":"#/definitions/BasicServerResponse"}},"403":{"description":"la amistad no existe","schema":{"$ref":"#/definitions/BasicServerResponse"}},"404":{"description":"alguno de los usuarios no existe","schema":{"$ref":"#/definitions/BasicServerResponse"}},"500":{"description":"solicitud rechazada por error interno del server","schema":{"$ref":"#/definitions/BasicServerResponse"}}}}},"/api/users/{user_email}/friends/{new_friends_email}":{"post":{"summary":"Este servicio permitirá dar de alta una solicitud de contacto de usuario","parameters":[{"name":"user_email","in":"path","description":"my email","required":true,"type":"string"},{"name":"new_friends_email","in":"path","description":"potential new friends email","required":true,"type":"string"}],"responses":{"201":{"description":"solicitud completada","schema":{"$ref":"#/definitions/RequestFriendshipResponse"}},"403":{"description":"estos usuarios ya son amigos","schema":{"$ref":"#/definitions/RequestFriendshipResponse"}},"404":{"description":"alguno de los usuarios no existe","schema":{"$ref":"#/definitions/RequestFriendshipResponse"}},"409":{"description":"esta solicitud ya existe","schema":{"$ref":"#/definitions/RequestFriendshipResponse"}},"500":{"description":"solicitud rechazada por error interno del server","schema":{"$ref":"#/definitions/RequestFriendshipResponse"}}}},"patch":{"summary":"Este servicio permite aceptar una solicitud de contacto de usuario y crear una relación de amistad","parameters":[{"name":"user_email","in":"path","description":"my email","required":true,"type":"string"},{"name":"new_friends_email","in":"path","description":"potential new friends email","required":true,"type":"string"},{"in":"body","name":"response_body","description":"Document containing true for accept, false for reject.","required":false,"schema":{"$ref":"#/definitions/AcceptFriend"}}],"responses":{"200":{"description":"la respuesta fue procesada","schema":{"$ref":"#/definitions/BasicServerResponse"}},"403":{"description":"la solicitud de amistad no existe","schema":{"$ref":"#/definitions/BasicServerResponse"}},"404":{"description":"alguno de los usuarios no existe","schema":{"$ref":"#/definitions/BasicServerResponse"}},"500":{"description":"solicitud rechazada por error interno del server","schema":{"$ref":"#/definitions/BasicServerResponse"}}}}},"/api/users/{user_email}/notifications/{token}":{"put":{"summary":"Este servicio permite vincular un Token único de notificaciones a un determinado usuario","parameters":[{"name":"user_email","in":"path","description":"email del usuario","required":true,"type":"string"},{"name":"token","in":"path","description":"token único","required":true,"type":"string"}],"responses":{"200":{"description":"el token se agregó al usuario exitosamente","schema":{"$ref":"#/definitions/BasicServerResponse"}},"404":{"description":"no se encontro al usuario","schema":{"$ref":"#/definitions/BasicServerResponse"}},"500":{"description":"error interno del servidor","schema":{"$ref":"#/definitions/BasicServerResponse"}}}}},"/api/users/{user_email}/password":{"put":{"summary":"Este servicio permitirá a un usuario definir una nueva contraseña","parameters":[{"name":"user_email","in":"path","description":"User's email","required":true,"type":"string"},{"in":"body","name":"reset_password","description":"Token and new password.","required":true,"schema":{"$ref":"#/definitions/ResetPasswordBody"}}],"responses":{"200":{"description":"password updated.","schema":{"$ref":"#/definitions/ResetPasswordSuccessfulResponse"}},"400":{"description":"there is a problem with the auth server.","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"token is expired.","schema":{"$ref":"#/definitions/ErrorResponse"}},"404":{"description":"this user didnt request to reset password or the token provided doesnt match.","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"there is an internal problem with the app server.","schema":{"$ref":"#/definitions/ErrorResponse"}}}}},"/api/users/{user_email}/requests":{"get":{"summary":"Este servicio permite obtener las solicitudes de amistad de un usuario","parameters":[{"name":"user_email","in":"path","description":"email del usuario","required":true,"type":"string"}],"responses":{"200":{"description":"se envian los usuarios que esperan una respuesta a la solicitud de amistad","schema":{"$ref":"#/definitions/UsersInformationList"}}}}},"/api/users/{user_email}/reset_password_token":{"post":{"summary":"Parte de servicio de recupero de contraseña. Envia codigo por mail al usuario para recuperar password","parameters":[{"name":"user_email","in":"path","description":"User's email","required":true,"type":"string"}],"responses":{"200":{"description":"sent token to user.","schema":{"$ref":"#/definitions/ForgotPasswordSuccessfulResponse"}},"400":{"description":"there is a problem with the auth server.","schema":{"$ref":"#/definitions/ErrorResponse"}},"404":{"description":"user doesnt exist.","schema":{"$ref":"#/definitions/ErrorResponse"}},"412":{"description":"user exists but it is a firebase user.","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"there is an internal problem with the app server.","schema":{"$ref":"#/definitions/ErrorResponse"}}}}},"/api/users/{user_id}/videos/":{"get":{"tags":[],"summary":"Este servicio permitirá listar los videos de un usuario especifico teniendo en cuenta si el usuario que hace la request es amigo o no.","parameters":[{"name":"user_id","in":"path","description":"user id","required":true,"type":"string"},{"name":"Authorization","in":"header","description":"token","required":true,"type":"string"}],"responses":{"200":{"description":"videos list returned","schema":{"$ref":"#/definitions/VideoList"}}},"security":[{"bearerAuth":[]}]}},"/api/validate_auth_token/":{"get":{"summary":"Este es un método para recibir un token del auth server y validarlo","parameters":[{"name":"authorization","in":"header","description":"bearer token","required":true,"type":"string"}],"responses":{"200":{"description":"Token validity."}},"security":[{"bearerAuth":[]}]}},"/api/validate_token/":{"get":{"summary":"Este es un método para recibir un token y validarlo","parameters":[{"name":"authorization","in":"header","description":"bearer token","required":true,"type":"string"}],"responses":{"200":{"description":"Token validity."}},"security":[{"bearerAuth":[]}]}},"/api/videos/":{"post":{"summary":"Este servicio permitirá dar de alta un video en el sistema","parameters":[{"in":"body","name":"video","description":"The video to upload.","required":false,"schema":{"$ref":"#/definitions/VideoToUpload"}}],"responses":{"201":{"description":"video uploaded","schema":{"$ref":"#/definitions/UploadVideoResponse"}},"500":{"description":"There is a problem with the app or media server.","schema":{"$ref":"#/definitions/UploadVideoResponse"}}}}},"/api/videos/{user_id}":{"get":{"summary":"Este servicio permitirá listar videos en el sistema para mostrarlos en la home de un usuario","parameters":[{"name":"user_id","in":"path","description":"user id","required":true,"type":"string"}],"responses":{"200":{"description":"videos list returned","schema":{"$ref":"#/definitions/VideoList"}}}}},"/api/videos/{video_id}":{"delete":{"summary":"Este servicio permitirá dar de baja un video en el sistema","parameters":[{"name":"video_id","in":"path","description":"video id","required":true,"type":"string"}],"responses":{"200":{"description":"video deleted"}}}},"/api/videos/{video_id}/comments":{"post":{"tags":[],"summary":"Este servicio permitirá dar de alta un comentario en un video","parameters":[{"name":"video_id","in":"path","description":"id del video","required":true,"type":"string"},{"name":"Authorization","in":"header","description":"token","required":true,"type":"string"},{"in":"body","name":"comment","required":false,"schema":{"$ref":"#/definitions/Comment"}}],"responses":{"200":{"description":"comentario agregado al video","schema":{"$ref":"#/definitions/Video"}},"500":{"description":"error interno del servidor","schema":{"$ref":"#/definitions/BasicServerResponse"}}},"security":[{"bearerAuth":[]}]}},"/api/videos/{video_id}/dislikes":{"post":{"tags":[],"summary":"Este servicio permitirá dar dislike a un video","parameters":[{"name":"video_id","in":"path","description":"id del video","required":true,"type":"string"},{"name":"Authorization","in":"header","description":"token","required":true,"type":"string"}],"responses":{"201":{"description":"video dislikeado","schema":{"$ref":"#/definitions/Video"}},"400":{"description":"error interno del server","schema":{"$ref":"#/definitions/BasicServerResponse"}},"403":{"description":"ya dislikeaste este video","schema":{"$ref":"#/definitions/BasicServerResponse"}},"404":{"description":"el usuario o el video no existen","schema":{"$ref":"#/definitions/BasicServerResponse"}}},"security":[{"bearerAuth":[]}]},"delete":{"tags":[],"summary":"Este servicio permitirá eliminar un dislike a un video","parameters":[{"name":"video_id","in":"path","description":"id del video","required":true,"type":"string"},{"name":"Authorization","in":"header","description":"token","required":true,"type":"string"}],"responses":{"201":{"description":"dislikeado eliminado","schema":{"$ref":"#/definitions/Video"}},"400":{"description":"error interno del server","schema":{"$ref":"#/definitions/BasicServerResponse"}},"403":{"description":"nunca dislikeaste este video","schema":{"$ref":"#/definitions/BasicServerResponse"}},"404":{"description":"el usuario o el video no existen","schema":{"$ref":"#/definitions/BasicServerResponse"}}},"security":[{"bearerAuth":[]}]}},"/api/videos/{video_id}/likes":{"post":{"tags":[],"summary":"Este servicio permitirá likear un video","parameters":[{"name":"video_id","in":"path","description":"id del video","required":true,"type":"string"},{"name":"Authorization","in":"header","description":"token","required":true,"type":"string"}],"responses":{"201":{"description":"video likeado","schema":{"$ref":"#/definitions/Video"}},"400":{"description":"error interno del server","schema":{"$ref":"#/definitions/BasicServerResponse"}},"403":{"description":"ya likeaste este video","schema":{"$ref":"#/definitions/BasicServerResponse"}},"404":{"description":"el usuario o el video no existen","schema":{"$ref":"#/definitions/BasicServerResponse"}}},"security":[{"bearerAuth":[]}]},"delete":{"tags":[],"summary":"Este servicio permitirá eliminar el like de un video","parameters":[{"name":"video_id","in":"path","description":"id del video","required":true,"type":"string"},{"name":"Authorization","in":"header","description":"token","required":true,"type":"string"}],"responses":{"200":{"description":"like del video eliminado","schema":{"$ref":"#/definitions/Video"}},"400":{"description":"error interno del server","schema":{"$ref":"#/definitions/BasicServerResponse"}},"403":{"description":"este video no tiene tu like","schema":{"$ref":"#/definitions/BasicServerResponse"}},"404":{"description":"el usuario o el video no existen","schema":{"$ref":"#/definitions/BasicServerResponse"}}},"security":[{"bearerAuth":[]}]}}},"definitions":{"AcceptFriend":{"type":"object","properties":{"response":{"type":"boolean"}}},"BasicServerResponse":{"type":"object","properties":{"server_message":{"type":"object","properties":{"message":{"type":"string"}}},"status":{"type":"integer"}}},"Comment":{"type":"object","properties":{"text":{"type":"string"},"user":{"type":"string"}}},"ErrorDeleteUserResponse":{"type":"object","properties":{"Error":{"type":"string","example":"error message"}}},"ErrorResponse":{"type":"object","properties":{"Error":{"type":"string","example":"Error message"}}},"ForgotPasswordSuccessfulResponse":{"type":"object","properties":{"Forgot password":{"type":"string","example":"email sent to some@some.com"}}},"ListedUser":{"type":"object","properties":{"email":{"type":"string"},"full name":{"type":"string"},"phone number":{"type":"string"},"profile picture":{"type":"string"}}},"LoginResponse":{"type":"object","properties":{"App token":{"type":"string","description":"App server token"},"Auth token":{"type":"string","description":"Auth server token"}}},"PingResponse":{"type":"object","properties":{"App Server":{"type":"string"},"Auth Server":{"type":"string"},"Media Server":{"type":"string"}}},"RegisterResponse":{"type":"object","properties":{"message_result":{"type":"object","properties":{}},"status":{"type":"integer"}}},"RequestFriendshipResponse":{"type":"object","properties":{"server_message":{"type":"object","properties":{"message":{"type":"string"}}},"status":{"type":"integer"}}},"ResetPasswordBody":{"type":"object","properties":{"new_password":{"type":"string","example":"my new password"},"token":{"type":"string","example":"123456"}}},"ResetPasswordSuccessfulResponse":{"type":"object","properties":{"Reset password":{"type":"string","example":"password updated for user some@some.com"}}},"ServerTime":{"type":"object","properties":{"timestamp":{"type":"string"}}},"SuccessfulDeleteUserResponse":{"type":"object","properties":{"Delete user":{"type":"string","example":"user example@exmample.com deleted"}}},"UploadVideoResponse":{"type":"object","properties":{"result":{"type":"string"}}},"UserAuthorizationData":{"type":"object","properties":{"Authorization":{"type":"string"}}},"UserLogin":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}}},"UserRegister":{"type":"object","properties":{"email":{"type":"string"},"full name":{"type":"string"},"password":{"type":"string"},"phone number":{"type":"string"},"profile picture":{"type":"string"}}},"UsersInformationList":{"type":"array","items":{"type":"object","example":{"email":"diegote@gmail.com","fullName":"Diegote"},"properties":{"email":{"type":"string"},"fullName":{"type":"string"}}}},"Video":{"type":"object","properties":{"_id":{"type":"string"},"comments":{"type":"array","items":{"$ref":"#/definitions/Comment"}},"dislikes":{"type":"array","items":{"type":"string"}},"is_private":{"type":"boolean"},"likes":{"type":"array","items":{"type":"string"}},"title":{"type":"string"},"upload_date":{"type":"string"},"url":{"type":"string"},"user":{"type":"string"}}},"VideoList":{"type":"array","items":{"$ref":"#/definitions/Video"}},"VideoToUpload":{"type":"object","properties":{"description":{"type":"string"},"fileName":{"type":"string"},"isPrivate":{"type":"boolean"},"latitude":{"type":"string"},"longitude":{"type":"string"},"title":{"type":"string"},"url":{"type":"string"},"user":{"type":"string"}}}}}