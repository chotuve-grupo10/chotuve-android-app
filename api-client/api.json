{"definitions":{"AcceptFriend":{"properties":{"response":{"type":"boolean"}},"type":"object"},"BasicServerResponse":{"properties":{"server_message":{"properties":{"message":{"type":"string"}},"type":"object"},"status":{"type":"integer"}},"type":"object"},"Comment":{"properties":{"text":{"type":"string"},"user":{"type":"string"}},"type":"object"},"ErrorDeleteUserResponse":{"properties":{"Error":{"example":"error message","type":"string"}},"type":"object"},"ErrorResponse":{"properties":{"Error":{"example":"Error message","type":"string"}},"type":"object"},"ForgotPasswordSuccessfulResponse":{"properties":{"Forgot password":{"example":"email sent to some@some.com","type":"string"}},"type":"object"},"ListedUser":{"properties":{"email":{"type":"string"},"full_name":{"type":"string"},"phone_number":{"type":"string"},"profile_picture":{"type":"string"}},"type":"object"},"LoginResponse":{"properties":{"App token":{"description":"App server token","type":"string"},"Auth token":{"description":"Auth server token","type":"string"}},"type":"object"},"PingResponse":{"properties":{"App Server":{"type":"string"},"Auth Server":{"type":"string"},"Media Server":{"type":"string"}},"type":"object"},"RegisterResponse":{"properties":{"message_result":{"type":"object"},"status":{"type":"integer"}},"type":"object"},"RequestFriendshipResponse":{"properties":{"server_message":{"properties":{"message":{"type":"string"}},"type":"object"},"status":{"type":"integer"}},"type":"object"},"ResetPasswordBody":{"properties":{"new_password":{"example":"my new password","type":"string"},"token":{"example":"123456","type":"string"}},"type":"object"},"ResetPasswordSuccessfulResponse":{"properties":{"Reset password":{"example":"password updated for user some@some.com","type":"string"}},"type":"object"},"ServerTime":{"properties":{"timestamp":{"type":"string"}},"type":"object"},"SuccessfulDeleteUserResponse":{"properties":{"Delete user":{"example":"user example@exmample.com deleted","type":"string"}},"type":"object"},"UploadVideoResponse":{"properties":{"result":{"type":"string"}},"type":"object"},"UserAuthorizationData":{"properties":{"Authorization":{"type":"string"}},"type":"object"},"UserLogin":{"properties":{"email":{"type":"string"},"password":{"type":"string"}},"type":"object"},"UserModificationSuccessfulResponse":{"properties":{"Modify":{"example":"successfully modified user with email test@test.com","type":"string"}},"type":"object"},"UserRegister":{"properties":{"email":{"type":"string"},"full name":{"type":"string"},"password":{"type":"string"},"phone number":{"type":"string"},"profile picture":{"type":"string"}},"type":"object"},"UsersInformationList":{"items":{"example":{"email":"diegote@gmail.com","fullName":"Diegote","profile:Picture":"lamanodeDios.jpg"},"properties":{"email":{"type":"string"},"fullName":{"type":"string"},"profilePicture":{"type":"string"}},"type":"object"},"type":"array"},"Video":{"properties":{"_id":{"type":"string"},"comments":{"items":{"$ref":"#/definitions/Comment"},"type":"array"},"dislikes":{"items":{"type":"string"},"type":"array"},"is_private":{"type":"boolean"},"likes":{"items":{"type":"string"},"type":"array"},"title":{"type":"string"},"upload_date":{"type":"string"},"url":{"type":"string"},"user":{"type":"string"}},"type":"object"},"VideoList":{"items":{"$ref":"#/definitions/Video"},"type":"array"},"VideoToUpload":{"properties":{"description":{"type":"string"},"fileName":{"type":"string"},"isPrivate":{"type":"boolean"},"latitude":{"type":"string"},"longitude":{"type":"string"},"title":{"type":"string"},"url":{"type":"string"},"user":{"type":"string"}},"type":"object"}},"info":{"description":"powered by Flasgger","termsOfService":"/tos","title":"A swagger API","version":"0.0.1"},"paths":{"/api/about/":{"get":{"responses":{"200":{"description":"About information"}},"summary":"Este es un m\u00e9todo para recibir informaci\u00f3n del Server"}},"/api/home/":{"get":{"responses":{"200":{"description":"URL list to show in home screen"}},"summary":"Este es un m\u00e9todo para listar los videos en pantalla principal"}},"/api/login/":{"post":{"parameters":[{"description":"User to login.","in":"body","name":"user","schema":{"$ref":"#/definitions/UserLogin"}}],"responses":{"200":{"description":"Returns tokens","example":{"App token":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoiZGllZ290ZUBnbWFpbC5jb20iLCJleHAiOjE1OTA5MjM5ODl9.dQd-o5sC4n8z2rUuu-DVEF7FCJNILrSUVBKDqkutFgA","Auth token":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoiZGllZ290ZUBnbWFpbC5jb20iLCJleHAiOjE1OTA5MjM5ODl9.BzT0Wx3BO2NBQC16UZwXoOV7AwVfwA121gUyzrdZjA4"},"schema":{"$ref":"#/definitions/LoginResponse"}}},"summary":"Este servicio permitir\u00e1 a los usuarios poder ingresar al sistema"}},"/api/login_with_firebase/":{"post":{"description":"Si el login es exitoso pero el usuario no est\u00e1 registrado en la plataforma, se<br/>lo registra autom\u00e1ticamente<br/>","parameters":[{"description":"id token","in":"header","name":"authorization","required":true,"type":"string"}],"responses":{"200":{"description":"Returns tokens","example":{"App token":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoiZGllZ290ZUBnbWFpbC5jb20iLCJleHAiOjE1OTA5MjM5ODl9.dQd-o5sC4n8z2rUuu-DVEF7FCJNILrSUVBKDqkutFgA","Auth token":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoiZGllZ290ZUBnbWFpbC5jb20iLCJleHAiOjE1OTA5MjM5ODl9.BzT0Wx3BO2NBQC16UZwXoOV7AwVfwA121gUyzrdZjA4"},"schema":{"$ref":"#/definitions/LoginResponse"}}},"security":[{"bearerAuth":[]}],"summary":"Recibe una solicitud de login utilizando Firebase."}},"/api/ping/":{"get":{"responses":{"200":{"description":"Status of each server","example":{"App Server":"OK","Auth Server":"OK","Media Server":"OK"},"schema":{"$ref":"#/definitions/PingResponse"}}},"summary":"Este es un m\u00e9todo para recibir informaci\u00f3n del estado de los servers"}},"/api/register/":{"post":{"parameters":[{"description":"The user to create.","in":"body","name":"user","schema":{"$ref":"#/definitions/UserRegister"}}],"responses":{"200":{"description":"Returns completion message","schema":{"$ref":"#/definitions/RegisterResponse"}}},"summary":"Este servicio permitir\u00e1 a los usuarios darse de alta en el sistema"}},"/api/register_with_firebase/":{"post":{"parameters":[{"description":"id token","in":"header","name":"authorization","required":true,"type":"string"}],"responses":{"200":{"description":"Register solicitation using Firebase"}},"security":[{"bearerAuth":[]}],"summary":"Recibe una solicitud de registro utilizando Firebase"}},"/api/time":{"get":{"responses":{"200":{"description":"devuelve la hora del server","example":{"Server_time":"2020-07-12 18:12:40.599717"},"schema":{"$ref":"#/definitions/ServerTime"}},"500":{"description":"solicitud rechazada por error interno del server","schema":{"$ref":"#/definitions/BasicServerResponse"}}},"summary":"Este servicio permite obtener la hora del Server"}},"/api/users":{"get":{"parameters":[{"description":"filtering data","in":"query","name":"filter","type":"string"},{"description":"users email making request","in":"header","name":"User_email","required":true,"type":"string"}],"responses":{"200":{"description":"obtiene usuarios filtrados","schema":{"$ref":"#/definitions/UsersInformationList"}}},"summary":"Este servicio permitir\u00e1 filtrar usuarios"}},"/api/users/{user_email}":{"delete":{"parameters":[{"description":"my email","in":"path","name":"user_email","type":"string"}],"responses":{"200":{"description":"el usuario fue eliminado","schema":{"$ref":"#/definitions/SuccessfulDeleteUserResponse"}},"404":{"description":"el usuario no existe","schema":{"$ref":"#/definitions/ErrorDeleteUserResponse"}},"500":{"description":"no se puede eliminar usuario por error interno del server","schema":{"$ref":"#/definitions/ErrorDeleteUserResponse"}}},"summary":"Este servicio permite eliminar a un usuario"},"get":{"parameters":[{"description":"token","in":"header","name":"Authorization","required":true,"type":"string"},{"description":"User's email","in":"path","name":"user_email","required":true,"type":"string"}],"responses":{"200":{"description":"user profile.","schema":{"$ref":"#/definitions/ListedUser"}},"403":{"description":"invalid token.","schema":{"$ref":"#/definitions/ErrorResponse"}},"404":{"description":"user doesnt exist.","schema":{"$ref":"#/definitions/ErrorResponse"}},"412":{"description":"user requesting profile information from another user.","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"there is an internal problem with the auth server.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"Este servicio permitir\u00e1 consultar el perfil de un usuario","tags":[{"description":"Requires Authorization header","name":"auth-required"}]},"put":{"parameters":[{"description":"token","in":"header","name":"Authorization","required":true,"type":"string"},{"description":"User's email","in":"path","name":"user_email","required":true,"type":"string"},{"description":"The user to modify.","in":"body","name":"user","schema":{"$ref":"#/definitions/ListedUser"}}],"responses":{"200":{"description":"user profile updated.","schema":{"$ref":"#/definitions/UserModificationSuccessfulResponse"}},"403":{"description":"invalid token.","schema":{"$ref":"#/definitions/ErrorResponse"}},"412":{"description":"user requesting to modify profile information from another user.","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"there is an internal problem with the auth server.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"Este servicio permitir\u00e1 modificar el perfil de un usuario","tags":[{"description":"Requires Authorization header","name":"auth-required"}]}},"/api/users/{user_email}/friends":{"get":{"parameters":[{"description":"email del usuario","in":"path","name":"user_email","type":"string"}],"responses":{"200":{"description":"se envia la informaci\u00f3n","schema":{"$ref":"#/definitions/UsersInformationList"}}},"summary":"Este servicio permite obtener informaci\u00f3n del usuario (y sus amigos)"}},"/api/users/{user_email}/friends/{friends_email}":{"delete":{"parameters":[{"description":"my email","in":"path","name":"user_email","type":"string"},{"description":"potential new friends email","in":"path","name":"friends_email","type":"string"}],"responses":{"200":{"description":"la amistad fue eliminada","schema":{"$ref":"#/definitions/BasicServerResponse"}},"403":{"description":"la amistad no existe","schema":{"$ref":"#/definitions/BasicServerResponse"}},"404":{"description":"alguno de los usuarios no existe","schema":{"$ref":"#/definitions/BasicServerResponse"}},"500":{"description":"solicitud rechazada por error interno del server","schema":{"$ref":"#/definitions/BasicServerResponse"}}},"summary":"Este servicio permite aceptar una solicitud de contacto de usuario y crear una relaci\u00f3n de amistad"}},"/api/users/{user_email}/friends/{new_friends_email}":{"patch":{"parameters":[{"description":"my email","in":"path","name":"user_email","type":"string"},{"description":"potential new friends email","in":"path","name":"new_friends_email","type":"string"},{"description":"Document containing true for accept, false for reject.","in":"body","name":"response_body","schema":{"$ref":"#/definitions/AcceptFriend"}}],"responses":{"200":{"description":"la respuesta fue procesada","schema":{"$ref":"#/definitions/BasicServerResponse"}},"403":{"description":"la solicitud de amistad no existe","schema":{"$ref":"#/definitions/BasicServerResponse"}},"404":{"description":"alguno de los usuarios no existe","schema":{"$ref":"#/definitions/BasicServerResponse"}},"500":{"description":"solicitud rechazada por error interno del server","schema":{"$ref":"#/definitions/BasicServerResponse"}}},"summary":"Este servicio permite aceptar una solicitud de contacto de usuario y crear una relaci\u00f3n de amistad"},"post":{"parameters":[{"description":"my email","in":"path","name":"user_email","type":"string"},{"description":"potential new friends email","in":"path","name":"new_friends_email","type":"string"}],"responses":{"201":{"description":"solicitud completada","schema":{"$ref":"#/definitions/RequestFriendshipResponse"}},"403":{"description":"estos usuarios ya son amigos","schema":{"$ref":"#/definitions/RequestFriendshipResponse"}},"404":{"description":"alguno de los usuarios no existe","schema":{"$ref":"#/definitions/RequestFriendshipResponse"}},"409":{"description":"esta solicitud ya existe","schema":{"$ref":"#/definitions/RequestFriendshipResponse"}},"500":{"description":"solicitud rechazada por error interno del server","schema":{"$ref":"#/definitions/RequestFriendshipResponse"}}},"summary":"Este servicio permitir\u00e1 dar de alta una solicitud de contacto de usuario"}},"/api/users/{user_email}/notifications/{token}":{"put":{"parameters":[{"description":"email del usuario","in":"path","name":"user_email","type":"string"},{"description":"token \u00fanico","in":"path","name":"token","type":"string"}],"responses":{"200":{"description":"el token se agreg\u00f3 al usuario exitosamente","schema":{"$ref":"#/definitions/BasicServerResponse"}},"404":{"description":"no se encontro al usuario","schema":{"$ref":"#/definitions/BasicServerResponse"}},"500":{"description":"error interno del servidor","schema":{"$ref":"#/definitions/BasicServerResponse"}}},"summary":"Este servicio permite vincular un Token \u00fanico de notificaciones a un determinado usuario"}},"/api/users/{user_email}/password":{"put":{"parameters":[{"description":"User's email","in":"path","name":"user_email","required":true,"type":"string"},{"description":"Token and new password.","in":"body","name":"reset_password","required":true,"schema":{"$ref":"#/definitions/ResetPasswordBody"}}],"responses":{"200":{"description":"password updated.","schema":{"$ref":"#/definitions/ResetPasswordSuccessfulResponse"}},"400":{"description":"there is a problem with the auth server.","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"token is expired.","schema":{"$ref":"#/definitions/ErrorResponse"}},"404":{"description":"this user didnt request to reset password or the token provided doesnt match.","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"there is an internal problem with the app server.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"Este servicio permitir\u00e1 a un usuario definir una nueva contrase\u00f1a"}},"/api/users/{user_email}/requests":{"get":{"parameters":[{"description":"email del usuario","in":"path","name":"user_email","type":"string"}],"responses":{"200":{"description":"se envian los usuarios que esperan una respuesta a la solicitud de amistad","schema":{"$ref":"#/definitions/UsersInformationList"}}},"summary":"Este servicio permite obtener las solicitudes de amistad de un usuario"}},"/api/users/{user_email}/reset_password_token":{"post":{"parameters":[{"description":"User's email","in":"path","name":"user_email","required":true,"type":"string"}],"responses":{"200":{"description":"sent token to user.","schema":{"$ref":"#/definitions/ForgotPasswordSuccessfulResponse"}},"400":{"description":"there is a problem with the auth server.","schema":{"$ref":"#/definitions/ErrorResponse"}},"404":{"description":"user doesnt exist.","schema":{"$ref":"#/definitions/ErrorResponse"}},"412":{"description":"user exists but it is a firebase user.","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"there is an internal problem with the app server.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"summary":"Parte de servicio de recupero de contrase\u00f1a. Envia codigo por mail al usuario para recuperar password"}},"/api/users/{user_id}/videos/":{"get":{"parameters":[{"description":"user id","in":"path","name":"user_id","type":"string"},{"description":"token","in":"header","name":"Authorization","required":true,"type":"string"}],"responses":{"200":{"description":"videos list returned","schema":{"$ref":"#/definitions/VideoList"}}},"security":[{"bearerAuth":[]}],"summary":"Este servicio permitir\u00e1 listar los videos de un usuario especifico teniendo en cuenta si el usuario que hace la request es amigo o no.","tags":[{"description":"Requires Authorization header","name":"auth-required"}]}},"/api/validate_auth_token/":{"get":{"parameters":[{"description":"bearer token","in":"header","name":"authorization","required":true,"type":"string"}],"responses":{"200":{"description":"Token validity."}},"security":[{"bearerAuth":[]}],"summary":"Este es un m\u00e9todo para recibir un token del auth server y validarlo"}},"/api/validate_token/":{"get":{"parameters":[{"description":"bearer token","in":"header","name":"authorization","required":true,"type":"string"}],"responses":{"200":{"description":"Token validity."}},"security":[{"bearerAuth":[]}],"summary":"Este es un m\u00e9todo para recibir un token y validarlo"}},"/api/videos/":{"post":{"parameters":[{"description":"The video to upload.","in":"body","name":"video","schema":{"$ref":"#/definitions/VideoToUpload"}}],"responses":{"201":{"description":"video uploaded","schema":{"$ref":"#/definitions/UploadVideoResponse"}},"500":{"description":"There is a problem with the app or media server.","schema":{"$ref":"#/definitions/UploadVideoResponse"}}},"summary":"Este servicio permitir\u00e1 dar de alta un video en el sistema"}},"/api/videos/{user_id}":{"get":{"parameters":[{"description":"user id","in":"path","name":"user_id","type":"string"}],"responses":{"200":{"description":"videos list returned","schema":{"$ref":"#/definitions/VideoList"}}},"summary":"Este servicio permitir\u00e1 listar videos en el sistema para mostrarlos en la home de un usuario"}},"/api/videos/{video_id}":{"delete":{"parameters":[{"description":"video id","in":"path","name":"video_id","type":"string"}],"responses":{"200":{"description":"video deleted"}},"summary":"Este servicio permitir\u00e1 dar de baja un video en el sistema"}},"/api/videos/{video_id}/comments":{"post":{"parameters":[{"description":"id del video","in":"path","name":"video_id","required":true,"type":"string"},{"description":"token","in":"header","name":"Authorization","required":true,"type":"string"},{"in":"body","name":"comment","schema":{"$ref":"#/definitions/Comment"}}],"responses":{"200":{"description":"comentario agregado al video","schema":{"$ref":"#/definitions/Video"}},"500":{"description":"error interno del servidor","schema":{"$ref":"#/definitions/BasicServerResponse"}}},"security":[{"bearerAuth":[]}],"summary":"Este servicio permitir\u00e1 dar de alta un comentario en un video","tags":[{"description":"Requires Authorization header","name":"auth-required"}]}},"/api/videos/{video_id}/dislikes":{"delete":{"parameters":[{"description":"id del video","in":"path","name":"video_id","type":"string"},{"description":"token","in":"header","name":"Authorization","required":true,"type":"string"}],"responses":{"201":{"description":"dislikeado eliminado","schema":{"$ref":"#/definitions/Video"}},"400":{"description":"error interno del server","schema":{"$ref":"#/definitions/BasicServerResponse"}},"403":{"description":"nunca dislikeaste este video","schema":{"$ref":"#/definitions/BasicServerResponse"}},"404":{"description":"el usuario o el video no existen","schema":{"$ref":"#/definitions/BasicServerResponse"}}},"security":[{"bearerAuth":[]}],"summary":"Este servicio permitir\u00e1 eliminar un dislike a un video","tags":[{"description":"Requires Authorization header","name":"auth-required"}]},"post":{"parameters":[{"description":"id del video","in":"path","name":"video_id","type":"string"},{"description":"token","in":"header","name":"Authorization","required":true,"type":"string"}],"responses":{"201":{"description":"video dislikeado","schema":{"$ref":"#/definitions/Video"}},"400":{"description":"error interno del server","schema":{"$ref":"#/definitions/BasicServerResponse"}},"403":{"description":"ya dislikeaste este video","schema":{"$ref":"#/definitions/BasicServerResponse"}},"404":{"description":"el usuario o el video no existen","schema":{"$ref":"#/definitions/BasicServerResponse"}}},"security":[{"bearerAuth":[]}],"summary":"Este servicio permitir\u00e1 dar dislike a un video","tags":[{"description":"Requires Authorization header","name":"auth-required"}]}},"/api/videos/{video_id}/likes":{"delete":{"parameters":[{"description":"id del video","in":"path","name":"video_id","type":"string"},{"description":"token","in":"header","name":"Authorization","required":true,"type":"string"}],"responses":{"200":{"description":"like del video eliminado","schema":{"$ref":"#/definitions/Video"}},"400":{"description":"error interno del server","schema":{"$ref":"#/definitions/BasicServerResponse"}},"403":{"description":"este video no tiene tu like","schema":{"$ref":"#/definitions/BasicServerResponse"}},"404":{"description":"el usuario o el video no existen","schema":{"$ref":"#/definitions/BasicServerResponse"}}},"security":[{"bearerAuth":[]}],"summary":"Este servicio permitir\u00e1 eliminar el like de un video","tags":[{"description":"Requires Authorization header","name":"auth-required"}]},"post":{"parameters":[{"description":"id del video","in":"path","name":"video_id","type":"string"},{"description":"token","in":"header","name":"Authorization","required":true,"type":"string"}],"responses":{"201":{"description":"video likeado","schema":{"$ref":"#/definitions/Video"}},"400":{"description":"error interno del server","schema":{"$ref":"#/definitions/BasicServerResponse"}},"403":{"description":"ya likeaste este video","schema":{"$ref":"#/definitions/BasicServerResponse"}},"404":{"description":"el usuario o el video no existen","schema":{"$ref":"#/definitions/BasicServerResponse"}}},"security":[{"bearerAuth":[]}],"summary":"Este servicio permitir\u00e1 likear un video","tags":[{"description":"Requires Authorization header","name":"auth-required"}]}}},"swagger":"2.0"}
